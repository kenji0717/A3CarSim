<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN"
    "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="jp" lang="jp">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<title>2012年度CarRace環境の公開</title>
<!-- CSS -->

<!-- Javascript -->

<!-- RDF -->

</head>
<body>





<div id="mm-div-1">
<h1>2012年度CarRace環境の公開</h1>

<p>(2012,08/22)2012年度の北海道情報大学のプログラミングコンテストで使用する，CarRace環境を公開します．</p>


<div id="mm-div-1-1">
<h2>本年度のCarRace環境</h2>

<p>大変遅くなり申し分けないです．昨年に引き続きプログラミングコンテストでCarRace部門のプログラムを募集します．基本的に昨年度と同様，車の制御プログラムを書いてもらってコースを一周するタイムを競います．コースも同じで，開発環境の使用方法も変更ありませんが，利用できるAPIが追加され，より簡単に制御プログラムを作成することができるようになりました．是非，たくさんの人に参加してもらいたいと思います．</p>

</div>

<div id="mm-div-1-2">
<h2>変更の趣旨</h2>

<p>昨年度実施されたCarRace部門の環境では，APIを使って得ることができる情報は，自分の車とシミュレーション時間だけでした．そのため，コースのどこを走らなければならないかは，公開されたデータから座標を読み取ったり，プログラムを解析する必要がありました．そのため，車の制御プログラムの本質以外の部分で苦労した人も多いと思います．</p>

<p>今年のAPIでは，コースのセンターラインに関する情報が取得できるようになりました．自分の車から一番近いセンターライン上の
1点を座標ベクトルとして受けとることができます．また，その点におけるコースの進行方向も，方向ベクトルとして受けとれます．さらに，自分の車から一番近いセンターライン上の点だけでなく，その点より前方のコース上の点の情報も引き出せます．例えばコース上の10メートル前方の点を目標として走行させたり，
10メートル前方のコースの方向をチェックすることで，カーブにさしかかる前にカーブを検知できます．</p>

<p>その他，getDistメソッドでスタート位置からのおおよその走行距離が得られるので，今自分がコースのどの部分を走っているのかの判定が簡単に行えます．さらに自分の車の速度ベクトルを得るためのAPIも追加されているので，エンジン出力の調整で速度を制御するのが楽に行えます．</p>

<p>また，新しく追加したAPI以外の部分は昨年度と変更ありません．コースも車の性能も昨年度とまったく同じです．</p>

</div>

<div id="mm-div-1-3">
<h2>追加されたAPIについて</h2>

<p>APIの追加はRaceCarBaseクラスのメソッドとして追加されています．</p>

<ul>
<li><a href="http://kenji0717.github.com/A3CarSim/doc/api/com/github/kenji0717/a3cs/RaceCarBase.html">http://kenji0717.github.com/A3CarSim/doc/api/com/github/kenji0717/a3cs/RaceCarBase.html</a></li>
</ul>

<p>上記ページの「メソッド詳細」の項目でgetVelメソッド以下が，本年度新しく追加されたAPIです．詳細はこのAPIのページを読んで欲しいのですが，以下に簡単に紹介します．</p>

<ul>
<li>getVelメソッド
<ul>
<li>車の速度を方向ベクトルとして取得できるので，
速度の制御がしやすくなるでしょう．</li>
</ul></li>
<li>getDistメソッド
<ul>
<li>スタート地点から現在地点に最も近いセンター
ライン上の一点まで，コースのセンターラインに沿って
走行した時の走行距離を取得できます．</li>
</ul></li>
<li>getPointメソッド
<ul>
<li>引数無しと，実数の引数を取るメソッドがあります．
引数無しの場合は，センタライン上で車に最も近い
点を計算して返してくれます．車の座標と比較すれば
どれだけセンターからずれているかわかるでしょう．
引数ありの場合は，センターラインの一番近い場所から
引数メートル前方のセンターライン上の点を計算して
返してくれます．どちらに向って走れば良いのかの
指標になります．</li>
</ul></li>
<li>getDirectionメソッド
<ul>
<li>getPointメソッド同様，引数無しと有りがあります．
getPointで得られる一点におけるセンターラインの
前方方向を，単位ベクトルとして返してくれます．</li>
</ul></li>
<li>getRawPointDataメソッド
<ul>
<li>コースの3Dデータから抽出したセンターライン上の
点の情報を引き出すことができます．一周690ポイントの
データが保存されており，getDist,getPoint,getDirectionの
各メソッドでは，この生情報から線形補完した値を返す
ようになっています．</li>
</ul></li>
</ul>

</div>

<div id="mm-div-1-4">
<h2>サンプルプログラムについて</h2>

<p>新しいAPIを使用するCarRaceプログラムのサンプルを公開します．</p>

<ul>
<li><a href="http://kenji0717.github.com/A3CarSim/doc/CarRace/SampleProgram.html">http://kenji0717.github.com/A3CarSim/doc/CarRace/SampleProgram.html</a></li>
</ul>

<p>昨年度のサンプルプログラムよりも短いですが，昨年度の優勝プログラムよりも速いタイムを叩き出します．なかなかの走りをするので，是非実行してみて下さい．パラメータを少し変更して実行してみると面白いでしょう．</p>

<p>それからちょっとお願いですが，上記サンプルプログラムの走行タイムは
44.97秒となるはずですが，異なる走行タイムが測定されることがあれば連絡下さい．</p>

</div>

<div id="mm-div-1-5">
<h2>どのように工夫するかのヒント</h2>

<p>サンプルプログラムのパラメータを変更するだけでも，まだ多少改善することは可能ですが，是非，独自のアプローチで制御プログラムを再構成してくれると良いと思います．</p>

<ul>
<li>getDistメソッドを用いて走行している場所を特定して，
走っている場所によって，走行モードを切り替えて制御する．</li>
<li>サンプルプログラムでは，坂道判定や急カーブ判定をbooleanの
true,falseの2値で行っていますが，連続的にコントロール
してみる．</li>
<li><a href="http://ja.wikipedia.org/wiki/PID制御">PID制御</a>などの
制御理論を少し勉強してスピードや方向の制御をしてみる．</li>
<li>getRawPointメソッドからセンターラインの情報を引き出し，
何らかの方法で，より良い走行ラインを計算してから，その
ラインにそって走らせる．</li>
</ul>

</div>

<div id="mm-div-1-6">
<h2>その他情報源</h2>

<p>新しいAPIが追加されていますが，基本的に昨年度と同じシミュレーション・開発環境ですので，使用方法・開発方法は昨年度の資料も参考にして下さい．</p>

<ul>
<li><a href="http://kenji0717.github.com/A3CarSim/doc/CarRace/youtube.html">http://kenji0717.github.com/A3CarSim/doc/CarRace/youtube.html</a></li>
</ul>

</div>

<div id="mm-div-1-7">
<h2>その他，連絡先など</h2>

<p>昨年度は，一部の環境でJava Web Startによるインストールが上手く動作しないということで急遽ダウンロード版も公開したりしていました．心当たりのある部分を修正したりしていますが，あらゆる環境でテストているわけではないので，みなさんに実行してもらい改善してゆきたいと思っています．今年度の環境のダウンロード版は作成していませんが，必要であれば作成するので連絡をして下さい．</p>

<p>その他カーレース部門における質問などあれば，プログラミングコンテスト実行委員<a href="m&#x61;&#x69;&#x6c;&#116;&#x6f;&#58;&#x70;&#x72;&#111;&#x63;&#111;&#x6e;&#64;&#100;&#111;&#45;&#x6a;&#x6f;&#x68;&#x6f;&#100;a&#105;.&#97;&#99;&#x2e;&#x6a;&#x70;">&#x70;&#x72;&#111;&#x63;&#111;&#x6e;&#64;&#100;&#111;&#45;&#x6a;&#x6f;&#x68;&#x6f;&#100;a&#105;.&#97;&#99;&#x2e;&#x6a;&#x70;</a>
に連絡下さい．</p>
</div>
</div>


</body>
</html>

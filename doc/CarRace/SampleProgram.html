<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN"
    "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="jp" lang="jp">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<title>Sample Program of CarRace</title>
<!-- CSS -->

<!-- Javascript -->

<!-- RDF -->

</head>
<body>





<div id="mm-div-1">
<h1>Sample Program of CarRace</h1>

<p>サンプルプログラムです．</p>

<pre><code>import com.github.kenji0717.a3cs.*;
import javax.vecmath.Vector3d;

public class S1012000 extends RaceCarBase {
    public void exec() {
        Vector3d loc = getLoc();//現在の車の座標

        Vector3d point = getPoint(13.0);//前方13メートルの座標
        Vector3d dir = getDirection(13.0);//前方13メートルの方向
        point.sub(loc);
        point.normalize();
        Vector3d left = getUnitVecX();//車の左向き方向
        Vector3d front = getUnitVecZ();//車の前方方向

        boolean noborizaka = point.y&gt;0.1;
        boolean kyuukaabu = front.dot(dir)&lt;0.9;

        double engineForce = 700.0; //エンジン出力
        if (noborizaka) engineForce += 200; //上り坂では加速
        if (kyuukaabu) engineForce = 300; //急カーブでは減速
        double steering = 0.3*point.dot(left); //左にハンドルを切る量
        double breakingForce = kyuukaabu?10.0:0.0;//急カーブの時ブレーキ
        double drift=0.0; //ドリフトしない。

        setForce(engineForce,steering,breakingForce,drift);
//以下デバッグ用のプリント文(必要に応じてコメントを外す)
//if (noborizaka)System.out.println(&quot;上り坂&quot;);
//if (kyuukaabu)System.out.println(&quot;急カーブ&quot;);
//System.out.println(&quot;Debug: &quot;+getPoint());
//System.out.println(&quot;Debug: &quot;+getDirection(10.0));
//System.out.println(&quot;Debug: &quot;+getVel());
//System.out.println(&quot;Debug: &quot;+getDist());
//System.out.println(&quot;-&quot;);
    }
}
</code></pre>

<p>各メソッドの説明はAPIのページ参照．</p>
</div>


</body>
</html>
